/**!
 * CuaJs v0.0.5
 * @author phucbm
 * @homepage https://github.com/phucbm/cuajs
 * @license MIT 2024
 */
function t({element:t,releaseCursor:e="ew-resize",orientation:o="xy"}){let n={top:0,left:0,x:0,y:0};function i(e){const i=e.clientX-n.x,s=e.clientY-n.y;switch(o){case"y":t.scrollTop=n.top-s;break;case"x":t.scrollLeft=n.left-i;break;default:t.scrollTop=n.top-s,t.scrollLeft=n.left-i}}function s(o){t.removeEventListener("mousemove",i),t.removeEventListener("mouseup",s),t.removeEventListener("mouseout",s),t.style.cursor=e,t.style.removeProperty("user-select")}t.addEventListener("mousedown",(function(e){n={left:t.scrollLeft,top:t.scrollTop,x:e.clientX,y:e.clientY},t.addEventListener("mousemove",i),t.addEventListener("mouseup",s),t.addEventListener("mouseout",s),t.style.cursor="grabbing",t.style.userSelect="none"}))}const e="cua-wrapper",o="cua-enabled",n="cua-scroll-to-enabled",i="cua-vertical",s="cua-smooth",r="cua-scrollable",l="cua-not-scrollable",c="cua-has-scroll",a="cua-intersecting",h="cua-has-observer",d="data-cua",u="data-cua-to",f="data-cua-section",p="data-cua-vertical-scroll",m="data-cua-observe",v={wrapper:void 0,onScrollableContent:void 0,draggable:!1,smoothScroll:!0,keyScrollDistance:200,keyScroll:!0,scrollSnap:!1,scrollToClickPreventDefault:!0,verticalBreakpoint:1024,smoothVerticalScroll:!0,once:!1,rootMargin:"0px",threshold:.3};function g(t){function e(e){t.addEventListener("wheel",o)}function o(e){const o=e.deltaY;t.scrollLeft+=o}e();function n(o){t.style.cursor="ew-resize",e()}function i(e){t.style.cursor="ns-resize",t.removeEventListener("wheel",o)}t.querySelectorAll(`[${p}]`).forEach((t=>{t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",n)}))}function w(t,e){(t.length?t:[t]).forEach((t=>{Object.assign(t.style,e)}))}function S(t){const e=["scroll","auto"].indexOf(getComputedStyle(t).overflowY)>=0;return t.scrollHeight>t.clientHeight&&e}function y(t){if(!t.getClientRects().length)return{top:0,left:0};const e=t.getBoundingClientRect(),o=t.ownerDocument.defaultView;return{top:e.top+o.pageYOffset,left:e.left+o.pageXOffset}}function x(){return{w:window.innerWidth||document.documentElement.clientWidth,h:window.innerHeight||document.documentElement.clientHeight}}function b(){return{left:(window.pageXOffset||document.documentElement.scrollLeft)-(document.documentElement.clientLeft||0),top:(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}}function L(t,e=!1){const o=function(t){const e=y(t).left,o=y(t).top,n=t.offsetWidth,i=t.offsetHeight,s=o-b().top,r=s-x().h,l=r+i,c=s+i,a=c-.5*i,h=r+.5*i,d=e-b().left,u=d-x().w,f=d+n;return{left_left:d,left_right:u,right_right:u+n,right_left:f,center_left:f-.5*n,center_right:u+.5*n,top_top:s,top_bottom:r,bottom_bottom:l,bottom_top:c,center_top:a,center_bottom:h,left:e,top:o,offsetWidth:n,offsetHeight:i}}(t);let n,i,s,r;return e?(n=Math.max(0,Math.min(t.offsetWidth,-1*o.left_right)),i=Math.max(0,Math.min(t.offsetWidth,o.right_left)),s=Math.min(n,i,x().w),r=s/t.offsetWidth):(n=Math.max(0,Math.min(t.offsetHeight,-1*o.top_bottom)),i=Math.max(0,Math.min(t.offsetHeight,o.bottom_top)),s=Math.min(n,i,x().h),r=s/t.offsetHeight),{pixel:s,proportion:r}}class E{constructor(t){Lenis&&(this.context=t,this.element=t.wrapper,this.isInit=!1,this.instance=void 0,this.lenisOptions={smoothWheel:!0,lerp:.08},this.init(this.element),t.sections.forEach((t=>{t.querySelector(`.${r}`)&&t.classList.add(`${c}`)})))}init(t=this.element){if(this.isInit)return;setTimeout((()=>{this.updateVerticalScroller()}),100),this.initKeyScroll();const e=new Lenis({...this.lenisOptions,wrapper:t,content:t,wheelEventsTarget:t,orientation:"horizontal",gestureOrientation:"both"});e.on("scroll",(t=>C(t,this.context,"horizontal"))),requestAnimationFrame((function t(o){e.raf(o),requestAnimationFrame(t)})),this.instance=e,this.isInit=!0,this.initUpdateCSSVariables()}initKeyScroll(){this.context.options.keyScroll&&this.context.on("init",(()=>{const t=this.context.options.keyScrollDistance;window.addEventListener("keydown",(e=>{let o=this.instance.scroll;"ArrowLeft"!==e.code&&"ArrowUp"!==e.code||(o-=t),"ArrowRight"!==e.code&&"ArrowDown"!==e.code||(o+=t),this.instance.scrollTo(o,{lock:!1})}))}))}initVerticalScroll(){this.updateVerticalScroller(!0);const t=new Lenis({...this.lenisOptions});t.on("scroll",(t=>C(t,this.context,"vertical"))),requestAnimationFrame((function e(o){t.raf(o),requestAnimationFrame(e)})),this.instance=t,this.isInit=!0}destroy(){this.isInit&&(this.instance?.destroy(),this.context.options.smoothVerticalScroll&&this.initVerticalScroll(),this.isInit=!1)}updateVerticalScroller(t=!1){this.context.verticalScroller?.forEach((e=>{const o=S(e);t?(e.removeAttribute("data-lenis-prevent"),e.classList.remove(r)):o?(e.setAttribute("data-lenis-prevent",""),e.classList.add(r),e.classList.remove(l)):(e.classList.remove(r),e.classList.add(l)),"function"==typeof this.context.options.onScrollableContent&&this.context.options.onScrollableContent({item:e,isScrollable:o,forceVertical:t})}))}initUpdateCSSVariables(){this.context.on("scroll",(({axis:t,event:e,progress:o})=>{if("vertical"===t)return;const{velocity:n}=e,i=this.context.wrapper;i.style.setProperty("--scroll-velocity",n),i.style.setProperty("--scroll-progress",o.progress),i.style.setProperty("--scroll-direction",n>0?1:-1)})),this.context.on("breakpointChange",(({orientation:t})=>{"vertical"===t&&(this.context.wrapper.style.removeProperty("--scroll-velocity"),this.context.wrapper.style.removeProperty("--scroll-progress"),this.context.wrapper.style.removeProperty("--scroll-direction"))}))}}function C(t,e,o){const n=function(t,e){const o=t.wrapper,n=t.isVerticalMode()?document.documentElement.scrollHeight-document.documentElement.clientHeight:o.scrollWidth-o.clientWidth,i=t.isVerticalMode()?document.documentElement.scrollHeight:t.wrapper.scrollWidth,s=e.animatedScroll/n;return{progress:s,pixel:i*s,total:i}}(e,t),i=function(t,e=0,o=!1){let n,i,s={pixel:0},r=!1,l=0;for(const c of t){const t=L(c,o);t.pixel>=e&&t.pixel>s.pixel&&(s=t,n=c,i=l,r=!0),l++}return{isFound:r,index:i,el:n,...s}}(e.sections,0,"horizontal"===o);e.events.fire("onScroll",{event:t,axis:o,progress:n,activeIndex:e.activeSectionIndex,visibleSection:i}),e.activeSectionIndex!==i.index&&(e.activeSectionIndex=i.index,e.events.fire("onSectionChange",{event:t,section:i.el,index:e.activeSectionIndex}))}function k(t){const e=()=>{t.style.update();const e=T(t.options.verticalBreakpoint),o=e?"vertical":"horizontal";e?(document.body.classList.add(i),t.lenis?.destroy()):(document.body.classList.remove(i),t.lenis?.init()),t.orientation=o,t.events.fire("onBreakpointChange",{orientation:o})};window.addEventListener("load",e),window.addEventListener("resize",function(t,e=150){let o;return(...n)=>{clearTimeout(o),o=setTimeout((()=>{t.apply(this,n)}),e)}}(e,300))}function T(t){return"number"==typeof t&&window.innerWidth<=t||"function"==typeof t&&t()}class A{constructor(t){this.context=t,this.context.isScrollTo=!1,t.isSmoothScroll?this.init(this.context):console.warn("ScrollTo only works with Lenis for now.")}init(t){const e=document.querySelectorAll(`[${u}]:not(.${n})`),o=e=>{t.options.scrollToClickPreventDefault&&e.preventDefault();const o=e.target.getAttribute(u);this.scrollTo(o,{lock:!0,onComplete:()=>{this.context.isScrollTo=!1,this.context.events.fire("onScrollToComplete",{target:o,triggerEl:e.target})}}),this.context.events.fire("onScrollToClick",{target:o,triggerEl:e.target})};e.forEach((t=>{t.classList.add(n),t.addEventListener("click",o)}))}scrollTo(t,e={}){const o=this.context;if(o.isSmoothScroll){this.context.isScrollTo=!0;o.lenis.instance.scrollTo(t,e)}}}class I{constructor(t){this.context=t,this.update(t)}update(t=this.context){t.isVerticalMode()?function(t){w(document.body,{overflow:""}),w(t.wrapper,{display:"",overflow:"",height:"",maxHeight:"",minHeight:""}),w(t.sections,{height:"",maxHeight:"100%",overflowX:"hidden",overflowY:"auto",flexShrink:""})}(t):function(t){w(document.body,{overflow:"hidden"}),w(t.wrapper,{display:"flex",overflow:"auto",height:"100vh",minHeight:"100vh",maxHeight:"100vh"}),w(t.sections,{height:"",maxHeight:"",overflowX:"",overflowY:"hidden",flexShrink:"0"})}(t)}}function O({target:t,attributeName:e="",defaultOptions:o={},numericValues:n=[],onIsString:i,dev:s=!1}){if(!t)return s&&console.warn("Target not found!",t),o;if(!t.hasAttribute(e))return s&&console.warn("Attribute not found from target",e),o;const r=t.getAttribute(e);if(!r.length)return o;if(!function(t){try{return JSON.parse(t)&&!!t}catch(t){return!1}}(r))return"function"==typeof i?i(r):console.warn("Not a JSON string",r),o;let l=JSON.parse(r);for(const[t,e]of Object.entries(l))"false"===e?l[t]=!1:"true"===e?l[t]=!0:n.includes(t)&&"string"==typeof e&&e.length>0?l[t]=parseFloat(e):l[t]=e;return{...o,...l}}class H{constructor(t,e){t&&(this.context=t,this.options={names:[],...e},this.eventNames=this.options.names,this.eventsList=[])}fire(t,e={}){if(!this.eventNames.includes(t))return void console.warn(`Cannot fire unrecognized event "${t}"`,this,e);const o={instance:this.context,eventName:t,...e},n=this.context.config?this.context.config:this.context.options;if(n){const e=n[t];"function"==typeof e&&e(o)}const i=this.eventsList[t];i?.length&&i.forEach((t=>{"function"==typeof t&&t(o)}))}add(t,e){t=function(t){let e=t;"on"!==t.slice(0,2)&&(e=e.charAt(0).toUpperCase()+e.slice(1),e="on"+e);return e}(t);this.eventNames.includes(t)?(void 0===this.eventsList[t]&&(this.eventsList[t]=[]),this.eventsList[t].push(e)):console.warn(`Cannot add unrecognized event "${t}"`)}}class M{constructor(n){const i={...v,...n};var r;(this.wrapper=i.wrapper,this.wrapper)?(this.options=O({target:this.wrapper,defaultOptions:i,attributeName:d,numericValues:["verticalBreakpoint"]}),this.events=new H(this,{names:["onScroll","onInit","onSectionChange","onBreakpointChange","onScrollToClick","onScrollToComplete"]}),document.body.classList.add(o),this.wrapper.classList.add(e),this.verticalScroller=this.wrapper.querySelectorAll(`[${p}]`),this.sections=this.wrapper.querySelectorAll(`[${f}]`),this.activeSectionIndex=void 0,this.orientation=void 0,k(this),this.isVerticalMode=()=>T(this.options.verticalBreakpoint),this.style=new I(this),this.isSmoothScroll=this.options.smoothScroll&&"undefined"!=typeof Lenis,this.isSmoothScroll?(this.wrapper.classList.add(s),this.lenis=new E(this)):g(this.wrapper),(r=this).options.scrollSnap&&r.on("onSectionChange",(t=>{if("vertical"===r.orientation)return;if(r.isScrollTo)return;const e=t.section;if(e.offsetWidth<x().w)return;r.lenis.instance.stop();const o=t.event.direction>0?e:e.offsetLeft+e.offsetWidth-x().w;r.lenis.instance.scrollTo(o,{lock:!0,force:!0,onComplete:()=>{r.lenis.instance.start()}})})),this.options.draggable&&(t({element:this.wrapper}),this.verticalScroller.forEach((e=>{t({element:e,releaseCursor:S(e)?"ns-resize":"default",orientation:"y"})}))),(t=>{document.querySelectorAll(`[${m}], [data-cua-animate]`).forEach((e=>{t.assignScrollObserver({element:e})}))})(this),this.navigate=new A(this),this.events.fire("onInit")):console.warn("Wrapper element is not defined")}on(t,e){this.events.add(t,e)}assignScrollObserver({element:t,options:e=this.options,enter:o,leave:n,once:i=this.options.once}){const s={root:this.isVerticalMode()?null:this.wrapper,rootMargin:e.rootMargin,threshold:e.threshold};let r;this.on("onBreakpointChange",(({orientation:e})=>{r&&r?.disconnect();let l=!1;r=new IntersectionObserver((t=>{t.forEach((t=>{if(!i||!l)if(t.isIntersecting)"function"==typeof o&&o(t),t.target.classList.add(a),l=!0;else{if(!l)return;"function"==typeof n&&n(t),t.target.classList.remove(a)}}))}),s),r.observe(t),t.classList.add(h)}))}}window.CuaInstance=void 0,window.CuaJs={init:t=>(window.CuaInstance=new M(t),window.CuaInstance)},document.querySelectorAll("[data-cua]").forEach((t=>CuaJs.init({wrapper:t})));