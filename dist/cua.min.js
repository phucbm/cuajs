/**!
 * CuaJs v0.0.3
 * @author phucbm
 * @homepage https://github.com/phucbm/cuajs
 * @license MIT 2023
 */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o=e();for(var n in o)("object"==typeof exports?exports:t)[n]=o[n]}}(this,(()=>(()=>{"use strict";var t={r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function o({element:t,releaseCursor:e="ew-resize",orientation:o="xy"}){let n={top:0,left:0,x:0,y:0};function i(e){const i=e.clientX-n.x,s=e.clientY-n.y;switch(o){case"y":t.scrollTop=n.top-s;break;case"x":t.scrollLeft=n.left-i;break;default:t.scrollTop=n.top-s,t.scrollLeft=n.left-i}}function s(o){t.removeEventListener("mousemove",i),t.removeEventListener("mouseup",s),t.removeEventListener("mouseout",s),t.style.cursor=e,t.style.removeProperty("user-select")}t.addEventListener("mousedown",(function(e){n={left:t.scrollLeft,top:t.scrollTop,x:e.clientX,y:e.clientY},t.addEventListener("mousemove",i),t.addEventListener("mouseup",s),t.addEventListener("mouseout",s),t.style.cursor="grabbing",t.style.userSelect="none"}))}t.r(e);const n="cua-enabled",i="cua-scroll-to-enabled",s="cua-vertical",r="cua-smooth",c="cua-scrollable",l="cua-not-scrollable",a="cua-has-scroll",h="data-cua",u="data-cua-to",f="data-cua-section",d="data-cua-vertical-scroll",p={wrapper:void 0,onScrollableContent:void 0,smoothScroll:!0,keyScrollDistance:200,keyScroll:!0,autoScroll:!1,scrollToClickPreventDefault:!0,verticalBreakpoint:1024,smoothVerticalScroll:!0};function m(t){function e(e){t.addEventListener("wheel",o)}function o(e){const o=e.deltaY;t.scrollLeft+=o}e();function n(o){t.style.cursor="ew-resize",e()}function i(e){t.style.cursor="ns-resize",t.removeEventListener("wheel",o)}t.querySelectorAll(`[${d}]`).forEach((t=>{t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",n)}))}function v(t,e){(t.length?t:[t]).forEach((t=>{Object.assign(t.style,e)}))}function w(t){const e=["scroll","auto"].indexOf(getComputedStyle(t).overflowY)>=0;return t.scrollHeight>t.clientHeight&&e}function g(t){if(!t.getClientRects().length)return{top:0,left:0};const e=t.getBoundingClientRect(),o=t.ownerDocument.defaultView;return{top:e.top+o.pageYOffset,left:e.left+o.pageXOffset}}function S(){return{w:window.innerWidth||document.documentElement.clientWidth,h:window.innerHeight||document.documentElement.clientHeight}}function x(){return{left:(window.pageXOffset||document.documentElement.scrollLeft)-(document.documentElement.clientLeft||0),top:(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}}function y(t,e=!1){const o=function(t){const e=g(t).left,o=g(t).top,n=t.offsetWidth,i=t.offsetHeight,s=o-x().top,r=s-S().h,c=r+i,l=s+i,a=l-.5*i,h=r+.5*i,u=e-x().left,f=u-S().w,d=u+n;return{left_left:u,left_right:f,right_right:f+n,right_left:d,center_left:d-.5*n,center_right:f+.5*n,top_top:s,top_bottom:r,bottom_bottom:c,bottom_top:l,center_top:a,center_bottom:h,left:e,top:o,offsetWidth:n,offsetHeight:i}}(t);let n,i,s,r;return e?(n=Math.max(0,Math.min(t.offsetWidth,-1*o.left_right)),i=Math.max(0,Math.min(t.offsetWidth,o.right_left)),s=Math.min(n,i,S().w),r=s/t.offsetWidth):(n=Math.max(0,Math.min(t.offsetHeight,-1*o.top_bottom)),i=Math.max(0,Math.min(t.offsetHeight,o.bottom_top)),s=Math.min(n,i,S().h),r=s/t.offsetHeight),{pixel:s,proportion:r}}class b{constructor(t){Lenis&&(this.context=t,this.element=t.wrapper,this.isInit=!1,this.instance=void 0,this.lenisOptions={smoothWheel:!0,lerp:.08},this.init(this.element),t.sections.forEach((t=>{t.querySelector(`.${c}`)&&t.classList.add(`${a}`)})))}init(t=this.element){if(this.isInit)return;this.updateVerticalScroller(),this.initKeyScroll();const e=new Lenis({...this.lenisOptions,wrapper:t,content:t,wheelEventsTarget:t,orientation:"horizontal",gestureOrientation:"both"});e.on("scroll",(t=>L(t,this.context,"horizontal"))),requestAnimationFrame((function t(o){e.raf(o),requestAnimationFrame(t)})),this.instance=e,this.isInit=!0}initKeyScroll(){this.context.options.keyScroll&&this.context.on("init",(()=>{const t=this.context.options.keyScrollDistance;window.addEventListener("keydown",(e=>{let o=this.instance.scroll;"ArrowLeft"!==e.code&&"ArrowUp"!==e.code||(o-=t),"ArrowRight"!==e.code&&"ArrowDown"!==e.code||(o+=t),this.instance.scrollTo(o,{lock:!1})}))}))}initVerticalScroll(){this.updateVerticalScroller(!0);const t=new Lenis({...this.lenisOptions});t.on("scroll",(t=>L(t,this.context,"vertical"))),requestAnimationFrame((function e(o){t.raf(o),requestAnimationFrame(e)})),this.instance=t,this.isInit=!0}destroy(){this.isInit&&(this.instance?.destroy(),this.context.options.smoothVerticalScroll&&this.initVerticalScroll(),this.isInit=!1)}updateVerticalScroller(t=!1){this.context.verticalScroller?.forEach((e=>{const o=w(e);t?(e.removeAttribute("data-lenis-prevent"),e.classList.remove(c)):o?(e.setAttribute("data-lenis-prevent",""),e.classList.add(c),e.classList.remove(l)):(e.classList.remove(c),e.classList.add(l)),"function"==typeof this.context.options.onScrollableContent&&this.context.options.onScrollableContent({item:e,isScrollable:o,forceVertical:t})}))}}function L(t,e,o){const n=function(t,e){const o=t.wrapper,n=t.isVerticalMode()?document.documentElement.scrollHeight-document.documentElement.clientHeight:o.scrollWidth-o.clientWidth,i=t.isVerticalMode()?document.documentElement.scrollHeight:t.wrapper.scrollWidth,s=e.animatedScroll/n;return{progress:s,pixel:i*s,total:i}}(e,t),i=function(t,e=0,o=!1){let n,i,s={pixel:0},r=!1,c=0;for(const l of t){const t=y(l,o);t.pixel>=e&&t.pixel>s.pixel&&(s=t,n=l,i=c,r=!0),c++}return{isFound:r,index:i,el:n,...s}}(e.sections,0,"horizontal"===o);e.events.fire("onScroll",{event:t,axis:o,progress:n,activeIndex:e.activeSectionIndex,visibleSection:i}),e.activeSectionIndex!==i.index&&(e.activeSectionIndex=i.index,e.events.fire("onSectionChange",{event:t,section:i.el,index:e.activeSectionIndex}))}function E(t){const e=()=>{t.style.update();const e=C(t.options.verticalBreakpoint),o=e?"vertical":"horizontal";e?(document.body.classList.add(s),t.lenis?.destroy()):(document.body.classList.remove(s),t.lenis?.init()),t.orientation=o,t.events.fire("onBreakpointChange",{orientation:o})};window.addEventListener("load",e),window.addEventListener("resize",function(t,e=150){let o;return(...n)=>{clearTimeout(o),o=setTimeout((()=>{t.apply(this,n)}),e)}}(e,300))}function C(t){return"number"==typeof t&&window.innerWidth<=t||"function"==typeof t&&t()}class T{constructor(t){this.context=t,this.context.isScrollTo=!1,t.isSmoothScroll?this.init(this.context):console.warn("ScrollTo only works with Lenis for now.")}init(t){const e=document.querySelectorAll(`[${u}]:not(.${i})`),o=e=>{t.options.scrollToClickPreventDefault&&e.preventDefault();const o=e.target.getAttribute(u);this.scrollTo(o,{lock:!0,onComplete:()=>{this.context.isScrollTo=!1,this.context.events.fire("onScrollToComplete",{target:o,triggerEl:e.target})}}),this.context.events.fire("onScrollToClick",{target:o,triggerEl:e.target})};e.forEach((t=>{t.classList.add(i),t.addEventListener("click",o)}))}scrollTo(t,e={}){const o=this.context;if(o.isSmoothScroll){this.context.isScrollTo=!0;o.lenis.instance.scrollTo(t,e)}}}class k{constructor(t){this.context=t,this.update(t)}update(t=this.context){t.isVerticalMode()?function(t){v(document.body,{overflow:""}),v(t.wrapper,{display:"",overflow:""}),v(t.sections,{height:"",maxHeight:"100%",overflowX:"hidden",overflowY:"auto",flexShrink:""})}(t):function(t){v(document.body,{overflow:"hidden"}),v(t.wrapper,{display:"flex",overflow:"auto"}),v(t.sections,{height:`calc(100vh - ${A(t)}px)`,maxHeight:"",overflowX:"",overflowY:"hidden",flexShrink:"0"})}(t)}}function A(t){const e=t.sections[0];return t.wrapper.offsetHeight-e.offsetHeight}function I({target:t,attributeName:e="",defaultOptions:o={},numericValues:n=[],onIsString:i,dev:s=!1}){if(!t)return s&&console.warn("Target not found!",t),o;if(!t.hasAttribute(e))return s&&console.warn("Attribute not found from target",e),o;const r=t.getAttribute(e);if(!r.length)return o;if(!function(t){try{return JSON.parse(t)&&!!t}catch(t){return!1}}(r))return"function"==typeof i?i(r):console.warn("Not a JSON string",r),o;let c=JSON.parse(r);for(const[t,e]of Object.entries(c))"false"===e?c[t]=!1:"true"===e?c[t]=!0:n.includes(t)&&"string"==typeof e&&e.length>0?c[t]=parseFloat(e):c[t]=e;return{...o,...c}}class O{constructor(t,e){t&&(this.context=t,this.options={names:[],...e},this.eventNames=this.options.names,this.eventsList=[])}fire(t,e={}){if(!this.eventNames.includes(t))return void console.warn(`Cannot fire unrecognized event "${t}"`,this,e);const o={instance:this.context,eventName:t,...e},n=this.context.config?this.context.config:this.context.options;if(n){const e=n[t];"function"==typeof e&&e(o)}const i=this.eventsList[t];i?.length&&i.forEach((t=>{"function"==typeof t&&t(o)}))}add(t,e){t=function(t){let e=t;"on"!==t.slice(0,2)&&(e=e.charAt(0).toUpperCase()+e.slice(1),e="on"+e);return e}(t);this.eventNames.includes(t)?(void 0===this.eventsList[t]&&(this.eventsList[t]=[]),this.eventsList[t].push(e)):console.warn(`Cannot add unrecognized event "${t}"`)}}class _{constructor(t){const e={...p,...t};var i;(this.wrapper=e.wrapper,this.wrapper)?(this.options=I({target:this.wrapper,defaultOptions:e,attributeName:h,numericValues:["verticalBreakpoint"]}),this.events=new O(this,{names:["onScroll","onInit","onSectionChange","onBreakpointChange","onScrollToClick","onScrollToComplete"]}),document.body.classList.add(n),this.verticalScroller=this.wrapper.querySelectorAll(`[${d}]`),this.sections=this.wrapper.querySelectorAll(`[${f}]`),this.activeSectionIndex=void 0,this.orientation=void 0,E(this),this.isVerticalMode=()=>C(this.options.verticalBreakpoint),this.style=new k(this),this.isSmoothScroll=this.options.smoothScroll&&"undefined"!=typeof Lenis,this.isSmoothScroll?(this.wrapper.classList.add(r),this.lenis=new b(this)):m(this.wrapper),(i=this).options.autoScroll&&i.on("onSectionChange",(t=>{if("vertical"===i.orientation)return;if(i.isScrollTo)return;const e=t.section;if(e.offsetWidth<S().w)return;i.lenis.instance.stop();const o=t.event.direction>0?e:e.offsetLeft+e.offsetWidth-S().w;i.lenis.instance.scrollTo(o,{lock:!0,force:!0,onComplete:()=>{i.lenis.instance.start()}})})),o({element:this.wrapper}),this.verticalScroller.forEach((t=>{o({element:t,releaseCursor:w(t)?"ns-resize":"default",orientation:"y"})})),this.navigate=new T(this),this.events.fire("onInit")):console.warn("Wrapper element is not defined")}on(t,e){this.events.add(t,e)}}return window.CuaInstance=void 0,window.CuaJs={init:t=>(window.CuaInstance=new _(t),window.CuaInstance)},document.querySelectorAll("[data-cua]").forEach((t=>CuaJs.init({wrapper:t}))),e})()));